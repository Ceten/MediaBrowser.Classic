<Mcml xmlns="http://schemas.microsoft.com/2006/mcml"
	  xmlns:cor="assembly://MSCorLib/System"
    xmlns:a="assembly://MediaBrowser/MediaBrowser"
	  xmlns:cb="resx://MediaBrowser/MediaBrowser.Resources/CheckBox"
	  xmlns:s="file://Styles_DoNotEdit.mcml"
	  xmlns:f="file://Fonts_DoNotEdit.mcml"
    xmlns:ss="resx://MediaBrowser/MediaBrowser.Resources/SimpleSpinner"
    xmlns:st="resx://MediaBrowser/MediaBrowser.Resources/SpinnerText"
    xmlns:cp="resx://MediaBrowser/MediaBrowser.Resources/ConfigPage"  
      
>
  <!--*****************************************************************************************************************

    This is an example of a config panel for your theme.  Modify this to include any theme-specific options you require.
    You must also handle the saving/loading of any of these options somewhere in your assembly.

  *********************************************************************************************************************-->

  <UI Name="AdvancedPanel">

    <Properties>
      <a:Application Name="Application" Application="$Required"/>
      <EditableText Name="FocusItem" />
    </Properties>
    <Locals>
      <Inset Name="CMargin" Inset="25,0,0,0" />
      <Inset Name="SMargin" Inset="10,0,0,0" />
      <IntRangedValue Name="HttpTimeout" Value="[Application.Config.HttpTimeout]" MaxValue="120000" MinValue="20000" Step="1000" />
      <Size Name="LabelSize1" Size="250,0" />
      <Size Name="PanelSize" Size="800,400" />

      <cor:String Name="SystemUpdateClass" String="[Application.Config.SystemUpdateClass]" />
      <cor:String Name="PluginUpdateClass" String="[Application.Config.PluginUpdateClass]" />

      <BooleanChoice Name="EnableTraceLogging" Value="[Application.Config.EnableTraceLogging]" />
      <BooleanChoice Name="EnableUpdates" Value="[Application.Config.EnableUpdates]" />
      <BooleanChoice Name="EnableDelete" Value="[Application.Config.Advanced_EnableDelete]" />

      <IntRangedValue Name="ServerPort" Value="[Application.Config.ServerPort]" MaxValue="9999" MinValue="0" Step="1" />

      <Choice Name="SystemClassModel">
        <Options>
          <cor:String String="Dev" />
          <cor:String String="Beta" />
          <cor:String String="Release" />
        </Options>
      </Choice>
      <Choice Name="PluginClassModel">
        <Options>
          <cor:String String="Dev" />
          <cor:String String="Beta" />
          <cor:String String="Release" />
        </Options>
      </Choice>

      <Choice Name="ServerConnectModel">
        <Options>
          <cor:String String="Find Automatically" />
          <cor:String String="[Application.ServerAddressOptionString]" />
        </Options>
      </Choice>
    </Locals>
    
    <Rules>
      <Binding Source="[HttpTimeout.Value]" Target="[Application.Config.HttpTimeout]" />
      <Binding Source="[PluginClassModel.Chosen!cor:String]" Target="[Application.Config.PluginUpdateClass]" />
      <Binding Source="[SystemClassModel.Chosen!cor:String]" Target="[Application.Config.SystemUpdateClass]" />
      <Binding Source="[SystemUpdateClass]" Target="[Application.Config.SystemUpdateClass]" />
      <Binding Source="[PluginUpdateClass]" Target="[Application.Config.PluginUpdateClass]" />
      <Binding Source="[EnableTraceLogging.Value]" Target="[Application.Config.EnableTraceLogging]" />
      <Binding Source="[EnableUpdates.Value]" Target="[Application.Config.EnableUpdates]" />
      <Binding Source="[EnableDelete.Value]" Target="[Application.Config.Advanced_EnableDelete]" />
      <Binding Source="[ServerPort.Value]" Target="[Application.Config.ServerPort]" />

      <Default Target="[ServerConnectModel.ChosenIndex]" Value="1">
        <Conditions>
          <Equality Source="[Application.Config.FindServerAutomatically]" Value="false" />
        </Conditions>
      </Default>

      <Changed Source="[ServerConnectModel.Chosen]" >
        <Conditions>
          <Equality Source="[ServerConnectModel.ChosenIndex]" Value="0" />
        </Conditions>
        <Actions>
          <Set Target="[Application.Config.FindServerAutomatically]" Value="true" />
        </Actions>
      </Changed>

      <Changed Source="[ServerConnectModel.Chosen]" >
        <Conditions>
          <Equality Source="[ServerConnectModel.ChosenIndex]" Value="1" />
        </Conditions>
        <Actions>
          <Set Target="[Application.Config.FindServerAutomatically]" Value="false" />
        </Actions>
      </Changed>

      <Binding Target="[Logging.Label]" Source="[Application.LocalStrings.#LoggingConfig!cor:String]">
        <Transformer>
          <FormatTransformer Format="{0}                   "/>
        </Transformer>
      </Binding>

      <Binding Target="[Updates.Label]" Source="[Application.LocalStrings.#AutomaticUpdatesConfig!cor:String]">
        <Transformer>
          <FormatTransformer Format="{0}                       "/>
        </Transformer>
      </Binding>

    </Rules>

    <Content>
              <Graphic Name="Advanced" Content="image://cp:50AlphaBg" Layout="HorizontalFlow"
                       MinimumSize="[PanelSize]" Padding="[SMargin]" Navigation="Group">
                <Children>
                  <Panel Layout="VerticalFlow" >
                    <Children>
                      <cp:TextHeader Text="[Application.LocalStrings.#ServerConfig!cor:String]" />
                      <ss:SimpleSpinner Label="[Application.LocalStrings.#ConnectionConfig!cor:String]" Padding="0,10,0,0" Model="[ServerConnectModel]" FocusItem="[FocusItem]" Color="color://s:FontColorMedium"  Margins="[CMargin]" Font="font://f:CP_ConfigItemFont" ValueFont="font://f:CP_ConfigItemFont" LabelMinSize="150,35" ValueMinSize="300,35" ValueMaxSize="300,35"  />
                      <ss:SimpleSpinner Label="[Application.LocalStrings.#PortConfig!cor:String]" Padding="0,10,0,0" Model="[ServerPort]" FocusItem="[FocusItem]" Color="color://s:FontColorMedium"  Margins="[CMargin]" Font="font://f:CP_ConfigItemFont" ValueFont="font://f:CP_ConfigItemFont" LabelMinSize="150,35" ValueMaxSize="300,35"  />
                      <ss:SimpleSpinner Label="[Application.LocalStrings.#HttpTimeoutConfig!cor:String]" Padding="0,10,0,0" Model="[HttpTimeout]" FocusItem="[FocusItem]" Color="color://s:FontColorMedium"  Margins="[CMargin]" Font="font://f:CP_ConfigItemFont" ValueFont="font://f:CP_ConfigItemFont" />
                      <cp:TextHeader Text="[Application.LocalStrings.#UpdatesConfig!cor:String]" />
                      <cb:CheckBox Name="Updates" Label="[Application.LocalStrings.#AutomaticUpdatesConfig!cor:String]" Checked="[EnableUpdates]" Margins="[CMargin]" FocusItem="[FocusItem]"   Font="font://f:CP_ConfigItemFont"/>
                      <st:SpinnerText Model="[SystemClassModel]" FocusItem="[FocusItem]"  Label="[Application.LocalStrings.#SystemClassConfig!cor:String]" Color="color://s:FontColorMedium" Font="font://f:CP_ConfigItemFont" ValueFont="font://f:CP_ConfigItemFont" Margins="[CMargin]" DefaultString="[SystemUpdateClass]" />
                      <st:SpinnerText Model="[PluginClassModel]" FocusItem="[FocusItem]"  Label="[Application.LocalStrings.#PluginClassConfig!cor:String]" Color="color://s:FontColorMedium" Font="font://f:CP_ConfigItemFont" ValueFont="font://f:CP_ConfigItemFont" Margins="[CMargin]" DefaultString="[PluginUpdateClass]" />
                    </Children>
                  </Panel>
                  <Panel Layout="VerticalFlow" >
                    <Children>
                      <cp:TextHeader Text="[Application.LocalStrings.#MediaOptionsConfig!cor:String]" />
                      <cb:CheckBox Name="Delete" Label="[Application.LocalStrings.#EnableDeleteConfig!cor:String]" Checked="[EnableDelete]" FocusItem="[FocusItem]"  Margins="[CMargin]"  Font="font://f:CP_ConfigItemFont"/>
                      <cp:TextHeader Text="[Application.LocalStrings.#GeneralConfig!cor:String]" />
                      <cb:CheckBox Name="Logging" Label="" Checked="[EnableTraceLogging]" FocusItem="[FocusItem]"  Margins="[CMargin]"  Font="font://f:CP_ConfigItemFont"/>
                    </Children>
                  </Panel>
                </Children>
              </Graphic>

    </Content>

  </UI>

</Mcml>